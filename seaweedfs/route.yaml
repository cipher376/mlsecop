# ── MASTER UI ROUTE ────────────────────────────────────────────────────
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: seaweedfs-master-route
  namespace: ml-build
spec:
  parentRefs:
    - name: cilium-ingress-gateway
      namespace: ml-infrastructure
      sectionName: 
  hostnames:
    - "seaweed-master.mlsecops.local"
  rules:
    - matches:
        - path:
            type: PathPrefix
            value: /
      backendRefs:
        - name: seaweedfs-master
          port: 9333

---
# ── FILER UI ROUTE ─────────────────────────────────────────────────────
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: seaweedfs-filer-route
  namespace: ml-build
spec:
  parentRefs:
    - name: cilium-ingress-gateway
      namespace: ml-infrastructure
      sectionName: default-http
  hostnames:
    - "seaweed-filer.mlsecops.local"
  rules:
    - matches:
        - path:
            type: PathPrefix
            value: /
      backendRefs:
        - name: seaweedfs-filer
          port: 8888

---
# ── S3 API ROUTE ───────────────────────────────────────────────────────
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: seaweedfs-s3-route
  namespace: ml-build
spec:
  parentRefs:
    - name: cilium-ingress-gateway
      namespace: ml-infrastructure
      sectionName: default-http
  hostnames:
    - "seaweed-s3.mlsecops.local"
  rules:
    - matches:
        - path:
            type: PathPrefix
            value: /
      backendRefs:
        - name: seaweedfs-s3
          port: 8333